(()=>{var e={};e.id=5428,e.ids=[5428,2888,660],e.modules={114:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{config:()=>h,default:()=>x,getServerSideProps:()=>p,getStaticPaths:()=>u,getStaticProps:()=>m,reportWebVitals:()=>f,routeModule:()=>v,unstable_getServerProps:()=>w,unstable_getServerSideProps:()=>b,unstable_getStaticParams:()=>y,unstable_getStaticPaths:()=>j,unstable_getStaticProps:()=>g});var a=s(7093),l=s(5244),n=s(1323),o=s(8203),c=s(7224),i=s(1547),d=e([c,i]);[c,i]=d.then?(await d)():d;let x=(0,n.l)(i,"default"),m=(0,n.l)(i,"getStaticProps"),u=(0,n.l)(i,"getStaticPaths"),p=(0,n.l)(i,"getServerSideProps"),h=(0,n.l)(i,"config"),f=(0,n.l)(i,"reportWebVitals"),g=(0,n.l)(i,"unstable_getStaticProps"),j=(0,n.l)(i,"unstable_getStaticPaths"),y=(0,n.l)(i,"unstable_getStaticParams"),w=(0,n.l)(i,"unstable_getServerProps"),b=(0,n.l)(i,"unstable_getServerSideProps"),v=new a.PagesRouteModule({definition:{kind:l.x.PAGES,page:"/common/add",pathname:"/common/add",bundlePath:"",filename:""},components:{App:c.default,Document:o.default},userland:i});r()}catch(e){r(e)}})},2362:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var r=s(997),a=s(5152),l=s.n(a),n=s(1163);let o=l()(()=>Promise.all([s.e(1664),s.e(2091),s.e(7857)]).then(s.bind(s,4408)),{loadableGenerated:{modules:["..\\components\\Layout.js -> ./NavBar"]},ssr:!1}),c=({children:e})=>((0,n.useRouter)(),r.jsx(r.Fragment,{children:(0,r.jsxs)("div",{className:"",children:[r.jsx(o,{}),r.jsx("section",{id:"pagecontent",className:"lg:col-span-4",children:e})]})}))},1145:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.d(t,{Z:()=>i});var a=s(997),l=s(1164);s(2245);var n=s(6689);s(9080);var o=s(3590),c=e([l,o]);[l,o]=c.then?(await c)():c;let i=({isShow:e,close:t,data:s,relodeData:r})=>{let[c,i]=(0,n.useState)(""),[d,x]=(0,n.useState)([]),m=async()=>{try{let e=await l.Z.get("/project"),t=e.data.data?.map(e=>({project_id:e?._id,name:e?.project_name,percentage:0}));x(t)}catch(e){console.log("error in getAllProject :",e)}};console.log("projectList",d);let u=(e,t,s)=>{let r=[...d];r[e][t]=Number(s),x(r)};(0,n.useEffect)(()=>{m()},[]);let p=async e=>{e.stopPropagation(),e.preventDefault(),document.getElementById("form").reset();try{let e=await l.Z.post("/common/party",{name:c,projectList:d});r(),t(),o.toast.success(e.data.message)}catch(e){console.log("error in contractorPopup",e)}};return(0,a.jsxs)("div",{className:e?"":"hidden",children:[a.jsx("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto  fixed inset-0 z-50 outline-none focus:outline-none",children:a.jsx("div",{className:"w-72 sm:w-96 xl:w-1/3 my-6 mx-auto max-w-2xl relative bg-white rounded-2xl flex flex-col",children:(0,a.jsxs)("div",{className:"bg-white w-full rounded-lg  shadow-lg  max-h-[80vh] overflow-y-auto relative",children:[(0,a.jsxs)("div",{className:" items-center flex justify-between flex-wrap md:flex-nowrap py-2 md:py-0 px-2 font-bold text-center text-lg md:text-2xl  bg-primary sticky top-0 m-3 rounded",children:[a.jsx("h2",{className:"grow text-lg lg:text-2xl font-bold text-center w-full md:w-auto",children:"Add Party"}),a.jsx("button",{type:"button",className:"flex-none rounded-md md:p-2 inline-flex items-center justify-center text-gray-400 hover:text-gray-500  focus:outline-none focus:ring-2 focus:ring-inset focus:ring-black",onClick:()=>t(),children:a.jsx("svg",{color:"black",className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:a.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,a.jsxs)("form",{id:"form",onSubmit:e=>p(e),className:"space-y-4 md:space-y-6 px-4 pb-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{for:"name",className:"block text-gray-500 text-sm font-bold mb-2",children:"Name"}),a.jsx("div",{children:a.jsx("input",{id:"name",name:"name",type:"text",className:"shadow appearance-none border rounded w-full py-2 md:py-3 px-3 md:px-4 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Enter party name",defaultValue:s?.name,autoComplete:"off",onChange:e=>i(e.target.value)})})]}),d?.map((e,t)=>a.jsxs("div",{className:"flex justify-center gap-4",children:[a.jsxs("div",{className:"w-[60%]",children:[a.jsx("label",{for:"phone_number",className:"block text-gray-500 text-sm font-bold mb-2",children:"Project Name"}),a.jsx("div",{children:a.jsx("input",{id:"project",type:"text",name:"project",className:"shadow appearance-none border rounded w-full py-2 md:py-3 px-3 md:px-4 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"Project Name",defaultValue:e?.name,autoComplete:"off",disabled:!0})})]}),a.jsxs("div",{className:"w-[40%]",children:[a.jsx("label",{for:"percentage",className:"block text-gray-500 text-sm font-bold mb-2",children:"Percentage"}),a.jsx("div",{children:a.jsx("input",{id:"percentage",onChange:e=>u(t,"percentage",e.target.value),type:"number",name:"percentage",className:"shadow appearance-none border rounded w-full py-2 md:py-3 px-3 md:px-4 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"percentage",defaultValue:e?.percentage,autoComplete:"off"})})]})]},t)),a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("button",{type:"submit",className:"bg-primary text-black font-bold py-2 px-4 rounded-lg focus:outline-none focus:shadow-outline w-9/12 shadow-main",children:"Add Party"})})]},s?._id)]})})}),a.jsx("div",{className:"opacity-70 fixed inset-0 z-40 bg-black"})]})};r()}catch(e){r(e)}})},7224:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{default:()=>i});var a=s(997),l=s(2362);s(108);var n=s(6919),o=s(3590);s(8819);var c=e([o]);function i({Component:e,pageProps:t,router:s}){return"/login"===s.route?(0,a.jsxs)(n.H,{children:[a.jsx(e,{...t}),a.jsx(o.ToastContainer,{autoClose:1e3})]}):a.jsx(n.H,{children:(0,a.jsxs)(l.Z,{children:[a.jsx(e,{...t}),a.jsx(o.ToastContainer,{autoClose:1e3})]})})}o=(c.then?(await c)():c)[0],r()}catch(e){r(e)}})},8203:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var r=s(997),a=s(6859);function l(){return(0,r.jsxs)(a.Html,{lang:"en",children:[r.jsx(a.Head,{}),(0,r.jsxs)("body",{children:[r.jsx(a.Main,{}),r.jsx(a.NextScript,{})]})]})}},1547:(e,t,s)=>{"use strict";s.a(e,async(e,r)=>{try{s.r(t),s.d(t,{default:()=>h});var a=s(997),l=s(2702),n=s(2259),o=s(1164);s(1163);var c=s(6689),i=s(9080),d=s(1121),x=s(7696);s(6302);var m=s(3590);s(2245);var u=s(1145),p=e([l,n,o,m,u]);[l,n,o,m,u]=p.then?(await p)():p;let h=()=>{let[e,t]=(0,c.useState)(!1),[s,r]=(0,c.useState)([]),[n,p]=(0,c.useState)([]),[h,f]=(0,c.useState)(!1),[g,j]=(0,c.useState)({}),[y,w]=(0,c.useState)(!1),[b,v]=(0,c.useState)(!1),N=async()=>{try{let e=await o.Z.get("/common/party");r(e.data.party),p(e.data.party)}catch(e){console.log("error in getAllParty :",e)}};(0,c.useEffect)(()=>{N()},[]);let k=e=>{j(e),f(!0)},S=async e=>{try{let t=await o.Z.delete(`/common/party?id=${e}`);m.toast.success(t.data.message),N(),f(!1)}catch(e){console.log("error in deleteContractor.",e)}},P=e=>{if(e.length>0){let t=s?.filter(t=>t?.name?.toLowerCase()?.includes(e?.toLowerCase()));p(t)}else p(s)},C=async(e,t,s)=>{try{if("name"==s){let s=await o.Z.put(`/common/party?partyId=${t}`,{name:e.value});m.toast.success(s.data.message)}else{let s=await o.Z.put(`/common/party?partyId=${g._id}&projectId=${t}`,{percentage:Number(e.value)});m.toast.success(s.data.message)}N()}catch(e){console.log("error in percentageUpdate",e)}};return console.log("currentParty----------->>",g),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4  md:flex-row justify-between mb-4",children:[a.jsx("div",{className:"flex flex-col gap-4 md:items-center md:flex-row justify-between mb-4",children:(0,a.jsxs)("div",{class:"relative min-w-full sm:min-w-[30%] md:min-w-[30%] lg:min-w-[15%]",children:[a.jsx("div",{class:"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none",children:a.jsx("svg",{class:"w-4 h-4 text-gray-500 ","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",children:a.jsx("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})})}),a.jsx("input",{onChange:e=>P(e.target.value.trim()),type:"search",id:"default-search",class:" p-2 ps-10 w-full text-base text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-primary focus:border-primary ",placeholder:"Search party name",required:!0})]})}),a.jsx("div",{className:"flex justify-end flex-col md:flex-row gap-2 mg:gap-4",children:a.jsx("div",{className:"flex-none md:text-center text-sm",children:(0,a.jsxs)("button",{onClick:()=>t(!0),className:"flex gap-1 md:gap-2 items-center bg-primary font-semibold py-2 px-2 md:px-4 border-2 border-black rounded",children:[a.jsx(d.poH,{size:20})," Add Party"]})})})]}),(0,a.jsxs)("div",{className:"uppercase rounded-t flex flex-col sm:flex-row items-center justify-between px-4 md:px-6 py-2 font-semibold text-md md:text-xl border-b border-gray-100 bg-primary",children:[a.jsx("div",{className:"grow text-center",children:"Common Party"}),(0,a.jsxs)("div",{children:["TOTAL :"," ",n?.reduce((e,t)=>e+t?.totalExpense,0)]})]}),a.jsx("div",{className:" overflow-x-auto",children:a.jsx("div",{className:"min-w-full inline-block align-middle",children:a.jsx("div",{className:"",children:(0,a.jsxs)("table",{className:"min-w-full divide-y-2 divide-gray-200 border-2",children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{className:"rounded border-t-2 bg-text-light m-2 divide-x-2 text-sm font-bold uppercase",children:[a.jsx("th",{scope:"col",className:"px-6 py-3 w-1/12 text-center flex-none sticky left-0 bg-text-light z-0",children:"No"}),a.jsx("th",{scope:"col",className:"w-6.5/12 px-6 py-3 text-center",children:"Party Name"}),a.jsx("th",{scope:"col",className:"w-1/12 px-6 py-3 text-center",children:"Amount"}),a.jsx("th",{scope:"col",className:"w-1/12 px-6 py-3 text-center",children:"View"}),a.jsx("th",{scope:"col",className:"w-1/12 px-6 py-3 text-center",children:"Delete"})]})}),a.jsx("tbody",{children:n&&n?.map((e,t)=>a.jsxs("tr",{className:"rounded border-t-2  m-2 divide-x-2 text-sm  uppercase",children:[a.jsx("td",{scope:"col",className:"px-6 py-3 w-1/12 text-center flex-none sticky left-0  z-0",children:t+1}),a.jsx("td",{scope:"col",className:"w-6.5/12 px-6 py-3 text-left",children:a.jsx(i.EditText,{onSave:t=>C(t,e?._id,"name"),type:"text",style:{backgroundColor:"transparent",border:"1px solid transparent",padding:"4px 8px",margin:"-4px -8px",width:"100%"},name:"name",defaultValue:`${e?.name}`})}),a.jsx("td",{scope:"col",className:"w-1/12 px-6 py-3 text-center",children:e?.totalExpense}),a.jsx("td",{scope:"col",className:"w-1/12 px-6 py-3 text-center",children:a.jsxs("button",{onClick:()=>{v(!0),j(e)},className:"text-black bg-gray-200 p-1 rounded-sm flex items-center m-auto gap-1 ",children:[a.jsx(d.GnY,{}),"Details"]})}),a.jsx("td",{scope:"col",className:"w-1/12 px-6 py-3 text-center",children:a.jsxs("button",{onClick:()=>k(e),className:"text-red-400 bg-red-100 p-1 rounded-sm flex items-center m-auto gap-1 hover:text-red-500",children:[a.jsx(x.GnT,{}),"Delete"]})})]},t))})]})})})}),(0,a.jsxs)("div",{className:b?"":"hidden",children:[a.jsx("div",{className:"justify-center  items-center flex overflow-x-hidden overflow-y-auto  fixed inset-0 z-50 outline-none focus:outline-none",children:a.jsx("div",{className:"w-72 sm:w-96 xl:w-3/4 my-6 mx-auto relative bg-white rounded-2xl flex flex-col",children:(0,a.jsxs)("div",{className:"bg-white w-full rounded-lg  shadow-lg  min-h-[80vh] max-h-[80vh] overflow-y-auto relative",children:[(0,a.jsxs)("div",{className:"items-center flex justify-between flex-wrap md:flex-nowrap py-2 md:py-0 px-2 font-bold text-center text-lg md:text-2xl  bg-primary sticky top-0 m-3 rounded",children:[a.jsx("h2",{className:"text-lg lg:text-2xl font-bold text-center w-full md:w-full",children:g?.name}),a.jsx("button",{type:"button",className:" rounded-md md:p-2 inline-flex items-center justify-center text-gray-400 hover:text-gray-500  focus:outline-none focus:ring-2 focus:ring-inset focus:ring-black",onClick:()=>v(!1),children:a.jsx("svg",{color:"black",className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:a.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"px-4 pb-4",children:g?.projectList?.length>0&&(0,a.jsxs)